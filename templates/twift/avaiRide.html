{% extends "base.html" %}
{% load i18n %}
{% load account socialaccount %}

{% block head_title %}{% trans "Sign In" %}{% endblock %}

{% block content %}
<style>
    html, body{
        height: 100%;
    }
    .rowspace {
        margin-bottom: 20px;
    }
</style>

<div class="container">
    <div class="row" style="background:lightseagreen">
        <h2 class="text-center">Twift! Two wheeler lift</h2>
        <h4 class="text-center">Ride Share!!</h4><br/><br/><br/>
        <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false&libraries=places&key=AIzaSyDNDQMWfiSliKDmlNRokulCXBLKZBebBnQ"></script>
        <script type="text/javascript">
            google.maps.event.addDomListener(window, 'load', function () {
                var srcplaces = new google.maps.places.Autocomplete(document.getElementById('srcPlaces'));
                google.maps.event.addListener(srcplaces, 'place_changed', function () {
                    var place = srcplaces.getPlace();
                    var address = place.formatted_address;
                    var latitude = place.geometry.location.lat();
                    var longitude = place.geometry.location.lng();
                    document.getElementById("id_source").value=address;
                    document.getElementById("id_sourcex").value=longitude;
                    document.getElementById("id_sourcey").value=latitude;

                    var mesg = "Address: " + address;
                    mesg += "\nLatitude: " + latitude;
                    mesg += "\nLongitude: " + longitude;
                    console.log(mesg);
                    console.log(place);
                    
                });

                var destplaces = new google.maps.places.Autocomplete(document.getElementById('destPlaces'));
                google.maps.event.addListener(destplaces, 'place_changed', function () {
                    var place = destplaces.getPlace();
                    var address = place.formatted_address;
                    var latitude = place.geometry.location.lat();
                    var longitude = place.geometry.location.lng();
                    document.getElementById("id_destination").value=address;
                    document.getElementById("id_destinationx").value=longitude;
                    document.getElementById("id_destinationy").value=latitude;

                    var mesg = "Address: " + address;
                    mesg += "\nLatitude: " + latitude;
                    mesg += "\nLongitude: " + longitude;
                     
                });
            });
        </script>

        <div class="container" style="background: white">
        <h1 class="header center black-text">Find a Ride</h1>
        <form method="post"    class="form-horizontal">
            {% csrf_token %}
            {{ form}}

<div class="row">
                <div class="form-group">
                    <div class="text-center col-md-2 col-md-offset-4 rowspace">
              <a class='dropdown-button btn' id="dd2" href='#' data-activates='dropdown2'>Travel Now</a>

  <!-- Dropdown Structure -->
  <ul id='dropdown2' class='dropdown-content'>
    <li><a href="#!" onclick="document.getElementById('dd2').text='Travel Now';document.getElementById('id_duration').value='0';">Travel Now</a></li>
    <li><a href="#!" onclick="document.getElementById('dd2').text='In 30 minutes';document.getElementById('id_duration').value='30';">In 30 minutes</a></li>
    
    <li ><a href="#!" onclick="document.getElementById('dd2').text='In 1 hr';;document.getElementById('id_duration').value='60';">In 1 hr</a></li>
  </ul>
  </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                    <div class="text-center col-md-2 col-md-offset-4 rowspace">
                        <input type="text" id="srcPlaces" style="width: 250px" placeholder="Source" required="required"/>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                    <div class="text-center col-md-4 col-md-offset-4 rowspace">
                        <input type="text" id="destPlaces" style="width: 250px" placeholder="Destination" required="required"/>
                    </div>
                </div>
            </div>
            <div class="text-center col-md-4 col-md-offset-4 rowspace">
                <input type="submit" value="Submit" />
            </div>
        </form>
        </div>
    </div>
</div>
{% endblock %}